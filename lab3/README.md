# Задание

Переработать веб-сервисы из [лабораторной работы #2](../lab2) таким образом, чтобы они реализовывали основные концепции
микросервисной архитектуры. Для этого внести в оба сервиса - "вызываемый" (из [лабораторной работы #1](../lab1)) и "
вызывающий" (добавленный в [лабораторной работе #2](../lab2)) перечисленные ниже изменения.

**Изменения в "вызываемом" сервисе:**

- Переработать сервис, обеспечив возможность его развёртывания на платформе `Spring Cloud`.
- Использовать все основные компоненты архитектуры `Spring Cloud`: Config Service, Load Balancer, Service Discovery.
- В качестве Service Discovery использовать `Eureka`.
- В качестве балансировщика нагрузки использовать `Ribbon`.
- Все запросы к сервисам должны проксироваться через API Gateway. В качестве API Gateway использовать `Zuul Proxy`.

**Изменения в "вызывающем" сервисе:**

- Разделить приложение на два модуля - веб-приложение с веб-сервисом и `EJB-jar` с бизнес-компонентами.
- Переместить всю логику из класса сервиса в `Stateless EJB`. В классе сервиса оставить только обращение к методам
  бизнес-интерфейса. EJB-компонент должен быть доступен удалённо (иметь Remote-интерфейс).
- Сформировать на уровне сервера приложений пул компонентов EJB настраиваемой мощности, динамически расширяемый при
  увеличении нагрузки.
- Настроить второй экземпляр сервера приложений на другом порту, "поднять" на нём вторую копию веб-сервиса и пула EJB.
- Настроить балансировку нагрузки на оба запущенных узла через `Haproxy`.

Оба веб-сервиса и клиентское приложение должны сохранить полную совместимость с API, реализованными в рамках предыдущих
лабораторных работ.

# Вопросы к защите лабораторной работы

1. Микросервисная архитектура. Особенности реализации. Сходства и отличия от "обычной" СОА.
2. Разработка сервисов в микросервисной архитектуре. Стандарты и технологии. Принципы декомпозиции приложений на
   микросервисы.
3. Масштабируемость микросервисных приложений. Балансировщики нагрузки.
4. Концепция Service Discovery. Подходы и технологические решения.
5. Consul. Установка и конфигурация. Регистрация сервисов.
6. Разработка микросервисов на Java EE. Реализация Service Discovery и балансировки нагрузки.
7. Разработка микросервисов на Spring. Интеграция с балансировщиками нагрузки и провайдерами Serviсе Discovery.
8. Spring Cloud. Особенности, отличия от "голого" Spring Boot. Spring Cloud Netflix.